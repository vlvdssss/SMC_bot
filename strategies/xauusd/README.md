# StrategyXAUUSD - Phase 2 Baseline

## –û–ø–∏—Å–∞–Ω–∏–µ

**StrategyXAUUSD** ‚Äî —ç—Ç–∞–ª–æ–Ω–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è –∑–æ–ª–æ—Ç–∞ (XAUUSD), –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö Smart Money Concepts. –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ `bobi_bot` –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ç–æ—Ä–≥–æ–≤–æ–π –ª–æ–≥–∏–∫–∏.

## –°—Ç–∞—Ç—É—Å

üîí **STABLE** ‚Äî Phase 2 Baseline (Final v1.0)

- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ 2023-2025
- ‚úÖ R&D –∑–∞–≤–µ—Ä—à–µ–Ω
- ‚úÖ –ì–æ—Ç–æ–≤–∞ –∫ production
- üîí –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ `experiments/`

## –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

- **–°–∏–º–≤–æ–ª:** XAUUSD
- **–ù–∞–∑–≤–∞–Ω–∏–µ:** Gold (–ó–æ–ª–æ—Ç–æ)
- **Contract Size:** 100 oz
- **Leverage:** 1:100

## –¢–æ—Ä–≥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è (–≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å)

–°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–¥—Ö–æ–¥ Smart Money Concepts –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ –Ω–∞ –æ—Ç–∫–∞—Ç–∞—Ö –ø–æ—Å–ª–µ –ø—Ä–æ–±–∏—Ç–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

1. **HTF (H1) - Break of Structure (BOS)**
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–∞
   - –ü—Ä–æ–±–æ–π swing high ‚Üí BULLISH
   - –ü—Ä–æ–±–æ–π swing low ‚Üí BEARISH

2. **LTF (M15) - Order Block Entry**
   - –ü–æ–∏—Å–∫ –∏–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∑–æ–Ω –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è/—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
   - Order Block = 2-3 —Å–≤–µ—á–∏ –ø–µ—Ä–µ–¥ –∏–º–ø—É–ª—å—Å–æ–º
   - –ò–º–ø—É–ª—å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–∏–ª—å–Ω—ã–º (> 1.2 √ó ATR)

3. **Premium/Discount Zones**
   - BUY —Ç–æ–ª—å–∫–æ –≤ Discount –∑–æ–Ω–∞—Ö (< 60% –æ—Ç range)
   - SELL —Ç–æ–ª—å–∫–æ –≤ Premium –∑–æ–Ω–∞—Ö (> 40% –æ—Ç range)
   - –ó–∞—â–∏—Ç–∞ –æ—Ç –≤—Ö–æ–¥–∞ –Ω–∞ —ç–∫—Å—Ç—Ä–µ–º—É–º–∞—Ö

4. **Fixed Risk Model**
   - Risk: 1% –æ—Ç –±–∞–ª–∞–Ω—Å–∞ –Ω–∞ —Å–¥–µ–ª–∫—É
   - Stop Loss: 1.5 √ó ATR(14)
   - Take Profit: 2:1 Risk/Reward

### –¢–∞–π–º—Ñ—Ä–µ–π–º—ã

- **HTF:** H1 (—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑)
- **LTF:** M15 (entry —Å–∏–≥–Ω–∞–ª—ã)

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã (–ù–ï –ò–ó–ú–ï–ù–Ø–¢–¨ –ë–ï–ó –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø)

```yaml
# H1 Analysis
swing_lookback: 100 bars
bos_detection: swing_high_low_break

# M15 Entry
premium_zone: 40%
discount_zone: 60%
impulse_threshold: 1.2 √ó ATR
order_block_candles: 2-3

# Risk Management
risk_per_trade: 1%
sl_multiplier: 1.5 √ó ATR
reward_risk: 2:1
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (2023-2025)

### –°—Ä–µ–¥–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –°–¥–µ–ª–æ–∫ –≤ –≥–æ–¥ | 148 |
| Win Rate | 60.76% |
| Max Drawdown | 11.51% |
| ROI | +952% |
| Avg Win | $20.17 |
| Avg Loss | -$6.41 |

### –ü–æ –≥–æ–¥–∞–º

| –ì–æ–¥ | –°–¥–µ–ª–æ–∫ | Win Rate | Max DD | ROI |
|-----|--------|----------|--------|-----|
| 2023 | 161 | 63.35% | 6.48% | +1040% |
| 2024 | 160 | 58.13% | 16.98% | +599% |
| 2025 | 125 | 60.80% | 11.07% | +1218% |

### –ü–æ—á–µ–º—É Phase 2?

Phase 2 –±—ã–ª–∞ –≤—ã–±—Ä–∞–Ω–∞ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è 5 —É–ª—É—á—à–µ–Ω–∏–π (–¥–µ–∫–∞–±—Ä—å 2025):

- ‚úÖ Phase 1: Premium/Discount 60/40
- ‚úÖ **Phase 2: Multiple Order Blocks** ‚Üê WINNER
- ‚ùå Phase 3: Session Filters (DD +94%)
- ‚ùå Phase 4: FVG Zones (DD +99%)
- ‚ùå Phase 5: Mini-BOS M15 (Trades -61%)

Phase 2 –ø–æ–∫–∞–∑–∞–ª–∞ –ª—É—á—à–∏–π –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É:
- –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é (Max DD -22% vs Phase 0)
- –ß–∞—Å—Ç–æ—Ç–æ–π —Å–¥–µ–ª–æ–∫ (+119% vs Phase 0)
- Win Rate (> 60% –Ω–∞ –≤—Å–µ—Ö –≥–æ–¥–∞—Ö)

## –ß—Ç–æ –ù–ï –≤—Ö–æ–¥–∏—Ç –≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é

Phase 2 Baseline –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ **–ù–ï –≤–∫–ª—é—á–∞–µ—Ç**:

- ‚ùå Fair Value Gaps (FVG)
- ‚ùå Mini-BOS –Ω–∞ M15
- ‚ùå Session filters (London/NY)
- ‚ùå Volatility filters
- ‚ùå ML/AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚ùå Dynamic risk sizing
- ‚ùå Partial exits
- ‚ùå Trailing stops

–≠—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å –∏ –ª–∏–±–æ —É—Ö—É–¥—à–∏–ª–∏ –º–µ—Ç—Ä–∏–∫–∏, –ª–∏–±–æ –Ω–µ –¥–∞–ª–∏ –∑–Ω–∞—á–∏–º–æ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

### –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å: `StrategyXAUUSD`

```python
from strategies.xauusd.strategy import StrategyXAUUSD

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
strategy = StrategyXAUUSD()

# –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
strategy.load_data(h1_data, m15_data)

# –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª
trade = strategy.run_cycle(
    current_h1_idx=idx_h1,
    current_m15_idx=idx_m15,
    current_price=price,
    balance=10000.0
)
```

### –ú–µ—Ç–æ–¥—ã

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `load_data()` | –ó–∞–≥—Ä—É–∑–∫–∞ H1/M15 –¥–∞–Ω–Ω—ã—Ö |
| `build_context()` | –ê–Ω–∞–ª–∏–∑ H1 (BOS detection) |
| `generate_signal()` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–∞ M15 (OB + Premium/Discount) |
| `execute_trade()` | –†–∞—Å—á–µ—Ç –ª–æ—Ç-—Å–∞–π–∑–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–¥–µ–ª–∫–∏ |
| `run_cycle()` | –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª: –∞–Ω–∞–ª–∏–∑ ‚Üí —Å–∏–≥–Ω–∞–ª ‚Üí —Å–¥–µ–ª–∫–∞ |

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–µ—Ç–æ–¥—ã (baseline –ª–æ–≥–∏–∫–∞)

- `analyze_h1()` ‚Äî BOS detection –Ω–∞ H1
- `get_signal()` ‚Äî Entry logic –Ω–∞ M15
- `_calculate_atr()` ‚Äî –†–∞—Å—á–µ—Ç ATR(14)
- `_find_order_block()` ‚Äî –ü–æ–∏—Å–∫ OB –ø–µ—Ä–µ–¥ –∏–º–ø—É–ª—å—Å–æ–º

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤ —Ñ–∞–π–ª–µ [`config.yaml`](config.yaml).

**–í–ê–ñ–ù–û:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª—é–±–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ç—Ä–µ–±—É–µ—Ç:
1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ `experiments/`
2. –í–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ 2023-2025
3. –°—Ä–∞–≤–Ω–µ–Ω–∏—è —Å–æ –≤—Å–µ–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ baseline
4. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≥–∏–ø–æ—Ç–µ–∑—ã

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### Backtesting

```python
# TODO: –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –±—ç–∫—Ç–µ—Å—Ç–µ—Ä–æ–º
```

### Live Trading

```python
# TODO: –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å MT5
```

## Roadmap

### ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ

- [x] –ü–µ—Ä–µ–Ω–æ—Å Phase 2 Baseline –ª–æ–≥–∏–∫–∏
- [x] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è XAUUSD
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### ‚è≥ –í –ø–ª–∞–Ω–∞—Ö

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MT5 connector
- [ ] Backtesting –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å bobi_bot)
- [ ] Demo trading
- [ ] Live monitoring

## Baseline Protection

### –°—Ç–∞—Ç—É—Å: FROZEN üîí

Phase 2 Baseline –∑–∞—â–∏—â–µ–Ω–∞ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π. –õ—é–±–∞—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç:

1. **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç** ‚Äî —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `experiments/strategy_v3_research/`
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è** ‚Äî –Ω–∞ –≤—Å–µ—Ö –≥–æ–¥–∞—Ö (2023-2025)
3. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ** ‚Äî —Å baseline –º–µ—Ç—Ä–∏–∫–∞–º–∏:
   - Win Rate ‚â• 60.76%
   - Max DD ‚â§ 11.51%
   - Trade Frequency ‚â• 148/year
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** ‚Äî –≥–∏–ø–æ—Ç–µ–∑–∞ + —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ `experiments/`
5. **Approval** ‚Äî —á–µ—Ä–µ–∑ testing protocol

### Rollback

–ï—Å–ª–∏ –≤ production –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã:
- Git tag: `xauusd-phase2-baseline-v1.0`
- –ò—Å—Ç–æ—á–Ω–∏–∫: `C:\Users\kamsa\Desktop\bobi_bot\bot_minimal_v2\strategy.py`

## –°—Å—ã–ª–∫–∏

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è SMC-framework

- [01. –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞](../../docs/01_overview.md)
- [02. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](../../docs/02_architecture.md)
- [03. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã](../../docs/03_instruments.md)
- [04. –°—Ç—Ä–∞—Ç–µ–≥–∏–∏](../../docs/04_strategies.md)

### –ò—Å—Ç–æ—á–Ω–∏–∫ (bobi_bot)

- **Phase 2 Summary:** `bot_minimal_v2/PHASE2_SUMMARY.md`
- **Baseline Final:** `BASELINE_FINAL_v1.0.md`
- **Strategy Code:** `bot_minimal_v2/strategy.py`
- **Experiments:** `experiments/README.md`

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ü—Ä–æ–µ–∫—Ç: SMC-framework  
–°—Ç—Ä–∞—Ç–µ–≥–∏—è: StrategyXAUUSD (Phase 2 Baseline)  
–î–∞—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏–∏: 17 –¥–µ–∫–∞–±—Ä—è 2025
